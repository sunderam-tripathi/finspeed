(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{2848:(e,t,s)=>{Promise.resolve().then(s.bind(s,8844))},7640:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});let r=s(3542).env.NEXT_PUBLIC_API_URL||"/api/v1";class a{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseUrl).concat(e),r={"Content-Type":"application/json"};t.headers&&Object.assign(r,t.headers),this.token&&(r.Authorization="Bearer ".concat(this.token));let a=await fetch(s,{...t,headers:r});if(!a.ok)throw Error((await a.json().catch(()=>({error:"Unknown error"}))).error||"HTTP ".concat(a.status));return a.json()}async register(e,t){let s=await this.request("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t})});return this.setToken(s.token),s}async login(e,t){let s=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return this.setToken(s.token),s}async getProducts(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.category_id)&&t.set("category_id",e.category_id.toString()),(null==e?void 0:e.search)&&t.set("search",e.search);let s=t.toString();return this.request("/products".concat(s?"?".concat(s):""))}async getProduct(e){return this.request("/products/".concat(e))}async createProduct(e){return this.request("/admin/products",{method:"POST",body:JSON.stringify(e)})}async updateProduct(e,t){return this.request("/admin/products/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteProduct(e){return this.request("/admin/products/".concat(e),{method:"DELETE"})}async getCategories(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.set("search",e.search);let s=t.toString();return this.request("/categories".concat(s?"?".concat(s):""))}async getCategory(e){return this.request("/categories/".concat(e))}async createCategory(e){return this.request("/admin/categories",{method:"POST",body:JSON.stringify(e)})}async updateCategory(e,t){return this.request("/admin/categories/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteCategory(e){return this.request("/admin/categories/".concat(e),{method:"DELETE"})}async getCart(){return this.request("/cart")}async addToCart(e,t){return this.request("/cart/items",{method:"POST",body:JSON.stringify({product_id:e,qty:t})})}async updateCartItem(e,t){return this.request("/cart/items/".concat(e),{method:"PUT",body:JSON.stringify({qty:t})})}async removeFromCart(e){return this.request("/cart/items/".concat(e),{method:"DELETE"})}async clearCart(){return this.request("/cart",{method:"DELETE"})}async getOrders(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString());let s=t.toString();return this.request("/orders".concat(s?"?".concat(s):""))}async getOrder(e){return this.request("/orders/".concat(e))}async createOrder(e,t){return this.request("/orders",{method:"POST",body:JSON.stringify({items:e,shipping_address:t})})}async healthCheck(){return this.request("/healthz")}async getUsers(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.set("search",e.search);let s=t.toString();return this.request("/admin/users".concat(s?"?".concat(s):""))}async getUser(e){return this.request("/admin/users/".concat(e))}async updateUser(e,t){return this.request("/admin/users/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteUser(e){return this.request("/admin/users/".concat(e),{method:"DELETE"})}setToken(e){this.token=e,localStorage.setItem("finspeed_token",e)}clearToken(){this.token=null,localStorage.removeItem("finspeed_token")}getToken(){return this.token}isAuthenticated(){return!!this.token}constructor(){this.token=null,this.baseUrl=r,this.token=localStorage.getItem("finspeed_token")}}let i=new a},8844:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(881),a=s(5701),i=s(1857),n=s(721),c=s.n(n);function o(e){var t,s;let{product:a}=e,n=(null==(t=a.images)?void 0:t.find(e=>e.is_primary))||(null==(s=a.images)?void 0:s[0]),o=new Intl.NumberFormat("en-IN",{style:"currency",currency:a.currency||"INR"}).format(a.price);return(0,r.jsx)(c(),{href:"/products/".concat(a.slug),className:"group",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,r.jsxs)("div",{className:"aspect-square relative bg-gray-100",children:[n?(0,r.jsx)(i.default,{src:n.url,alt:n.alt||a.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,r.jsx)("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),a.stock_qty<=5&&a.stock_qty>0&&(0,r.jsxs)("div",{className:"absolute top-2 right-2 bg-orange-500 text-white text-xs px-2 py-1 rounded",children:["Only ",a.stock_qty," left"]}),0===a.stock_qty&&(0,r.jsx)("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded",children:"Out of Stock"})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:a.title}),a.category&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:a.category.name}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-gray-900",children:o}),a.sku&&(0,r.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["SKU: ",a.sku]})]}),a.specs&&(0,r.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[a.specs.frame&&(0,r.jsxs)("span",{className:"inline-block mr-3",children:["Frame: ",a.specs.frame]}),a.specs.weight&&(0,r.jsxs)("span",{className:"inline-block",children:["Weight: ",a.specs.weight]})]}),a.warranty_months&&(0,r.jsxs)("div",{className:"mt-2 text-sm text-green-600",children:[a.warranty_months," months warranty"]})]})}),(0,r.jsx)("button",{className:"mt-4 w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(a.stock_qty>0?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),disabled:0===a.stock_qty,children:a.stock_qty>0?"Add to Cart":"Out of Stock"})]})]})})}var l=s(7640);function d(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[n,c]=(0,a.useState)(!0),[d,h]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[g,x]=(0,a.useState)(1),[y,p]=(0,a.useState)(1);(0,a.useEffect)(()=>{v()},[]),(0,a.useEffect)(()=>{(async()=>{try{c(!0);let e=await l.u.getProducts({page:g,limit:12,category_id:null!=u?u:void 0});t(e.products),p(Math.ceil(e.total/12)),h(null)}catch(e){h(e instanceof Error?e.message:"Failed to load products")}finally{c(!1)}})()},[u,g]);let v=async()=>{try{let e=await l.u.getCategories();i(e.categories)}catch(e){}},b=e=>{m(e),x(1)},N=e=>{x(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Products"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Discover our premium collection of bicycles and accessories"})]})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,r.jsx)("div",{className:"lg:w-64 flex-shrink-0",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("button",{onClick:()=>b(null),className:"w-full text-left px-3 py-2 rounded-md transition-colors ".concat(null===u?"bg-primary-100 text-primary-800":"text-gray-700 hover:bg-gray-100"),children:"All Products"}),s.map(e=>(0,r.jsx)("button",{onClick:()=>b(e.id),className:"w-full text-left px-3 py-2 rounded-md transition-colors ".concat(u===e.id?"bg-primary-100 text-primary-800":"text-gray-700 hover:bg-gray-100"),children:e.name},e.id))]})]})}),(0,r.jsxs)("div",{className:"flex-1",children:[d&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"text-red-800",children:[(0,r.jsx)("strong",{children:"Error:"})," ",d]})})}),n?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[(0,r.jsx)("div",{className:"aspect-square bg-gray-200"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3"})]})]},t))}):0===e.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-4",children:(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 2L3 7v11a2 2 0 002 2h10a2 2 0 002-2V7l-7-5zM10 12a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),(0,r.jsx)("p",{className:"text-gray-500",children:u?"No products available in this category.":"No products available at the moment."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.map(e=>(0,r.jsx)(o,{product:e},e.id))}),y>1&&(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>N(g-1),disabled:1===g,className:"px-3 py-2 rounded-md bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:y},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>N(e),className:"px-3 py-2 rounded-md ".concat(e===g?"bg-primary-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:e},e)),(0,r.jsx)("button",{onClick:()=>N(g+1),disabled:g===y,className:"px-3 py-2 rounded-md bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]})}}},e=>{e.O(0,[721,857,803,447,358],()=>e(e.s=2848)),_N_E=e.O()}]);