(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{1858:(e,t,s)=>{"use strict";var r=s(3638);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},2522:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(5701);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))})},7589:(e,t,s)=>{Promise.resolve().then(s.bind(s,9925))},7640:(e,t,s)=>{"use strict";s.d(t,{u:()=>n});let r=s(3542).env.NEXT_PUBLIC_API_URL||"/api/v1";class a{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseUrl).concat(e),r={"Content-Type":"application/json"};t.headers&&Object.assign(r,t.headers),this.token&&(r.Authorization="Bearer ".concat(this.token));let a=await fetch(s,{...t,headers:r});if(!a.ok)throw Error((await a.json().catch(()=>({error:"Unknown error"}))).error||"HTTP ".concat(a.status));return a.json()}async register(e,t){let s=await this.request("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t})});return this.setToken(s.token),s}async login(e,t){let s=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return this.setToken(s.token),s}async getProducts(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.category_id)&&t.set("category_id",e.category_id.toString()),(null==e?void 0:e.search)&&t.set("search",e.search);let s=t.toString();return this.request("/products".concat(s?"?".concat(s):""))}async getProduct(e){return this.request("/products/".concat(e))}async createProduct(e){return this.request("/admin/products",{method:"POST",body:JSON.stringify(e)})}async updateProduct(e,t){return this.request("/admin/products/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteProduct(e){return this.request("/admin/products/".concat(e),{method:"DELETE"})}async getCategories(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.set("search",e.search);let s=t.toString();return this.request("/categories".concat(s?"?".concat(s):""))}async getCategory(e){return this.request("/categories/".concat(e))}async createCategory(e){return this.request("/admin/categories",{method:"POST",body:JSON.stringify(e)})}async updateCategory(e,t){return this.request("/admin/categories/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteCategory(e){return this.request("/admin/categories/".concat(e),{method:"DELETE"})}async getCart(){return this.request("/cart")}async addToCart(e,t){return this.request("/cart/items",{method:"POST",body:JSON.stringify({product_id:e,qty:t})})}async updateCartItem(e,t){return this.request("/cart/items/".concat(e),{method:"PUT",body:JSON.stringify({qty:t})})}async removeFromCart(e){return this.request("/cart/items/".concat(e),{method:"DELETE"})}async clearCart(){return this.request("/cart",{method:"DELETE"})}async getOrders(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString());let s=t.toString();return this.request("/orders".concat(s?"?".concat(s):""))}async getOrder(e){return this.request("/orders/".concat(e))}async createOrder(e,t){return this.request("/orders",{method:"POST",body:JSON.stringify({items:e,shipping_address:t})})}async healthCheck(){return this.request("/healthz")}async getUsers(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.set("search",e.search);let s=t.toString();return this.request("/admin/users".concat(s?"?".concat(s):""))}async getUser(e){return this.request("/admin/users/".concat(e))}async updateUser(e,t){return this.request("/admin/users/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteUser(e){return this.request("/admin/users/".concat(e),{method:"DELETE"})}setToken(e){this.token=e,localStorage.setItem("finspeed_token",e)}clearToken(){this.token=null,localStorage.removeItem("finspeed_token")}getToken(){return this.token}isAuthenticated(){return!!this.token}constructor(){this.token=null,this.baseUrl=r,this.token=localStorage.getItem("finspeed_token")}}let n=new a},8141:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(5701);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))})},9925:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(881),a=s(5701),n=s(1858),i=s(721),l=s.n(i),c=s(8141),d=s(2522);let o=a.forwardRef(function(e,t){let{title:s,titleId:r,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}),m=a.forwardRef(function(e,t){let{title:s,titleId:r,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))});var u=s(7640);function h(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)([]),[i,h]=(0,a.useState)(!0),[g,x]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{(async()=>{let t=u.u.isAuthenticated();if(x(t),!t)return e.push("/auth/login?redirect=/account");try{h(!0);let e=await u.u.getOrders({limit:5});s(e.orders)}catch(e){}finally{h(!1)}})()},[e]),g)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Account"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage your account and view your orders"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,r.jsxs)("nav",{className:"space-y-2",children:[(0,r.jsxs)(l(),{href:"/account",className:"flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 mr-3"}),"Account Overview"]}),(0,r.jsxs)(l(),{href:"/account/orders",className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-md",children:[(0,r.jsx)(d.A,{className:"h-5 w-5 mr-3"}),"Order History"]}),(0,r.jsxs)(l(),{href:"/account/settings",className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-md",children:[(0,r.jsx)(o,{className:"h-5 w-5 mr-3"}),"Settings"]}),(0,r.jsxs)("button",{onClick:()=>{u.u.clearToken(),e.push("/")},className:"w-full flex items-center px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-md",children:[(0,r.jsx)(m,{className:"w-5 h-5"})," Sign Out"]})]})})}),(0,r.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(d.A,{className:"h-8 w-8 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:t.length})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-green-600 font-semibold",children:"₹"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Spent"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t.reduce((e,t)=>e+t.total,0))})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-8 w-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-purple-600 font-semibold",children:"★"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"2024"})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"}),(0,r.jsx)(l(),{href:"/account/orders",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"View All"})]})}),(0,r.jsx)("div",{className:"p-6",children:i?(0,r.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},t))}):0===t.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(d.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"Start shopping to see your orders here"}),(0,r.jsx)(l(),{href:"/products",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700",children:"Start Shopping"})]}):(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t,s;return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Order #",e.id]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e.total)}),(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat((e=>{switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.status)),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(null==(t=e.items)?void 0:t.length)||0," item",1!==((null==(s=e.items)?void 0:s.length)||0)?"s":""]})})]},e.id)})})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)(l(),{href:"/products",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,r.jsx)(d.A,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:"Continue Shopping"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Browse our latest products"})]})]}),(0,r.jsxs)(l(),{href:"/account/orders",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,r.jsx)(o,{className:"h-6 w-6 text-green-600 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:"Track Orders"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Check your order status"})]})]})]})]})]})]})]})}):null}}},e=>{e.O(0,[721,803,447,358],()=>e(e.s=7589)),_N_E=e.O()}]);